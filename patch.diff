From be4e25629609b8e5243cbe63da858372d6cf967c Mon Sep 17 00:00:00 2001
From: been <abc5290ac@naver.com>
Date: Wed, 10 May 2017 18:27:15 +0900
Subject: [PATCH] commit test

---
 UserDao.java | 55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)
 create mode 100644 UserDao.java

diff --git a/UserDao.java b/UserDao.java
new file mode 100644
index 0000000..0b21bcf
--- /dev/null
+++ b/UserDao.java
@@ -0,0 +1,55 @@
+package springbook.user.dao;
+
+import java.sql.Connection;
+import java.sql.DriverManager;
+import java.sql.PreparedStatement;
+import java.sql.ResultSet;
+import java.sql.SQLException;
+
+import springbook.user.domain.User;
+
+public class UserDao {
+	//Data Add
+	public void add(User user) throws ClassNotFoundException , SQLException {
+		//Class.forName("oracle.jdbc.driver.OracleDriver");
+		//Connection c = DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE","spring","1004");
+		Connection c = getConnection();
+		PreparedStatement ps = c.prepareStatement("insert into users(id,name,password) values(?,?,?)");
+		ps.setString(1, user.getId());
+		ps.setString(2, user.getName());
+		ps.setString(3, user.getPassword());
+		
+		ps.executeUpdate();
+		
+		ps.close();
+		c.close();
+		
+	}
+	
+	//Data Get
+	public User get(String id) throws ClassNotFoundException , SQLException {
+		//Class.forName("oracle.jdbc.driver.OracleDriver");
+		//Connection c = DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE","spring","1004");
+		Connection c = getConnection();
+		PreparedStatement ps = c.prepareStatement("select * from users where id =?");
+		ps.setString(1, id);
+		ResultSet rs = ps.executeQuery();
+		rs.next();
+		User user = new User();
+		user.setId(rs.getString("id"));
+		user.setName(rs.getString("name"));
+		user.setPassword(rs.getString("password"));
+		return user;
+	}
+	
+	//Oracle -> MySql
+	//중복관심에 대한 하나의 관심사로 모았다(DB연결)
+	private Connection getConnection() throws ClassNotFoundException,SQLException{
+		Class.forName("oracle.jdbc.driver.OracleDriver");
+		Connection c = DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE","spring","1004");
+		return c;
+	}
+	
+	
+
+}
-- 
2.12.2.windows.2

